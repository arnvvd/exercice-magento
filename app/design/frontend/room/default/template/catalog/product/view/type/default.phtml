<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magento.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magento.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2006-2017 X.commerce, Inc. and affiliates (http://www.magento.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */
?>
<?php /* @var $this Mage_Catalog_Block_Product_View_Abstract */?>
<?php $_product = $this->getProduct() ?>

<div class="product">
    <?php echo $this->getChildHtml('topSearch') ?>
    <header class='header'>
        <div class="content">
            <div class="header-nav-wrapper">
                <div class="header-logo">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 275.33 78.3"><defs><style>.cls-1{fill:#fff;}</style></defs><title>la_piece_logo</title><g id="Calque_2" data-name="Calque 2"><g id="LOGO_11_vecto" data-name="LOGO 11 vecto"><g id="Forme"><path class="cls-1" d="M76.21,78.3,18.77,55.14,0,45,51.37.25,52,.67,91.73,27.25V47.33ZM19.67,53.35l55.58,22.4L89.73,46.86V28.32L51.53,2.76l-48,41.81Z"/><polygon class="cls-1" points="20.02 54.89 18.47 53.63 44.28 21.92 91.19 46.21 90.27 47.98 44.81 24.44 20.02 54.89"/><rect class="cls-1" x="36.62" y="11.34" width="22.75" height="2" transform="translate(21.66 54.33) rotate(-72.33)"/><rect class="cls-1" x="54" y="36.44" width="39.27" height="2" transform="translate(-8.9 41) rotate(-29.42)"/><polygon class="cls-1" points="74.89 77.57 55.97 48.07 1.7 45.76 1.79 43.76 57.1 46.12 76.57 76.49 74.89 77.57"/></g><path class="cls-1" d="M132.6.2h2.12V26.78h16.75v2H132.6Z"/><path class="cls-1" d="M171.11,0h2l13.29,28.73h-2.32l-3.63-8H163.66l-3.63,8h-2.2Zm8.48,18.83-7.5-16.51-7.54,16.51Z"/><path class="cls-1" d="M131.78,45.2h11.66c6.81,0,10.92,4,10.92,9.86v.08c0,6.6-5.13,10-11.53,10h-4.77v8.56h-6.28ZM143,59.59c3.14,0,5-1.87,5-4.32v-.08c0-2.81-2-4.32-5.09-4.32h-4.85v8.72Z"/><path class="cls-1" d="M161.74,45.2H168V73.73h-6.28Z"/><path class="cls-1" d="M177.6,45.2h21.52v5.58H183.83v5.79h13.45v5.58H183.83v6h15.49v5.58H177.6ZM186.24,43l-5.54-4.08L186,36.56,191,43Z"/><path class="cls-1" d="M206.08,59.55v-.08A14.5,14.5,0,0,1,221,44.71c5.38,0,8.6,1.79,11.25,4.4l-4,4.61c-2.2-2-4.44-3.22-7.3-3.22-4.81,0-8.27,4-8.27,8.88v.08c0,4.89,3.38,9,8.27,9,3.26,0,5.26-1.3,7.5-3.34l4,4a14.59,14.59,0,0,1-11.7,5.09A14.4,14.4,0,0,1,206.08,59.55Z"/><path class="cls-1" d="M239.87,45.2h21.52v5.58H246.11v5.79h13.45v5.58H246.11v6H261.6v5.58H239.87Z"/><path class="cls-1" d="M268.73,67.21h6.6v6.52h-6.6Z"/></g></g></svg>
                </div>
                <div class="header-nav">
                    <div class="main-utils">
                        <ul class="site-utils">
                            <li>FR</li>
                            <li>E</li>
                            <li><i class="icon-search"></i></li>
                        </ul>
                        <?php echo $this->getChildHtml('topLinks') ?>
                    </div>
                    <?php echo $this->getChildHtml('topMenu') ?>
                </div>
            </div>
    </header>

    <article class="article-product">
        <div class="article-product-visual">
            <img src="<?php echo (string)Mage::helper('catalog/image')->init($_product, 'image');?>" alt="">
        </div>
        <div class="article-product-desc">
            <div class="title_section title_section--alignLeft">
                <?php echo $_product->getName(); ?>
            </div>
            <nav class="product-carousel-navigation">
                <ul>
                    <li>
                        <button data-index="0" class="is-active">Description</button>
                    </li>
                    <li>
                        <button data-index="1">Specifications</button>
                    </li>
                </ul>
            </nav>
            <ul class="product-carousel paragraph-beta">
                <li class="product-carousel-cell">
                    <?php echo $_product->getDescription(); ?>
                </li>
                <li class="product-carousel-cell">
                    <ul>
                        <li><p>Marque <span><?php echo $_product->getMarque(); ?></span></p></li>
                        <li><p>Dimensions <span><?php echo $_product->getDimensions(); ?></span></p></li>
                        <li><p>Matière <span><?php echo $_product->getMatiere(); ?></span></p></li>
                        <li><p>Année de fabrication <span><?php echo $_product->getFabricationYear(); ?></span></p></li>
                        <li><p>Lieu de fabrication <span><?php echo $_product->getLocateFabrication(); ?></span></p></li>
                    </ul>
                </li>
            </ul>

            <form action="<?php echo $this->getSubmitUrl($_product, array('_secure' => $this->_isSecure())) ?>" method="post" id="product_addtocart_form"<?php if($_product->getOptions()): ?> enctype="multipart/form-data"<?php endif; ?>>
                <?php echo $this->getChildHtml('addtocart') ?>
            </form>
        </div>
    </article>
</div>

<script type="text/javascript">
    //<![CDATA[
    var productAddToCartForm = new VarienForm('product_addtocart_form');
    productAddToCartForm.submit = function(button, url) {
        if (this.validator.validate()) {
            var form = this.form;
            var oldUrl = form.action;

            if (url) {
                form.action = url;
            }
            var e = null;
            try {
                this.form.submit();
            } catch (e) {
            }
            this.form.action = oldUrl;
            if (e) {
                throw e;
            }

            if (button && button != 'undefined') {
                button.disabled = true;
            }
        }
    }.bind(productAddToCartForm);

    productAddToCartForm.submitLight = function(button, url){
        if(this.validator) {
            var nv = Validation.methods;
            delete Validation.methods['required-entry'];
            delete Validation.methods['validate-one-required'];
            delete Validation.methods['validate-one-required-by-name'];
            // Remove custom datetime validators
            for (var methodName in Validation.methods) {
                if (methodName.match(/^validate-datetime-.*/i)) {
                    delete Validation.methods[methodName];
                }
            }

            if (this.validator.validate()) {
                if (url) {
                    this.form.action = url;
                }
                this.form.submit();
            }
            Object.extend(Validation.methods, nv);
        }
    }.bind(productAddToCartForm);
    //]]>
</script>
